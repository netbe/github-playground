name: Test workflow develop PR

on: 
  workflow_dispatch:
  pull_request:
    types: [ opened, synchronize, edited, ready_for_review ]
    branches: [ 'main' ]

permissions: 
  checks: write

jobs:
  test:
    runs-on: ubuntu-latest
    if: >
      github.event.action != 'edited' || (
        github.event.changes.title == null &&
        github.event.changes.body == null &&
        github.event.changes.assignees == null &&
        github.event.changes.reviewers == null &&
        github.event.changes.labels == null
      ) && github.event.pull_request.draft == false
    steps:
      - name: echo
        run: |
          echo "Hello from mainv"
  notify:
    uses: act10ns/slack@v2.1.0
    with: 
      webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
      status: ${{ job.status }}
      message: "test"
